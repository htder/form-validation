(()=>{const r={formContainer:document.querySelector("form"),email:document.getElementById("email-input"),country:document.getElementById("country-input"),zipCode:document.getElementById("code-input"),password:document.getElementById("password-input"),passwordConfirm:document.getElementById("password-confirm-input")},e={countryError:document.querySelector(".country-error"),zipCodeError:document.querySelector(".code-error"),passwordError:document.querySelector(".password-error"),passwordConfirmError:document.querySelector(".password-confirm-error"),emailError:document.querySelector(".email-error")},t=r=>{r.validity.valueMissing?e.emailError.textContent="You need to enter and e-mail address":r.validity.typeMismatch&&(e.emailError.textContent="Entered value needs to be an email address"),e.emailError.className="error active"},o=r=>{r.validity.valueMissing?e.countryError.textContent="You need to enter a country":r.validity.tooShort?e.countryError.textContent=`Country should be at least ${r.minLength} characters`:r.validity.tooLong&&(e.countryError.textContent=`Country should be no longer than ${r.maxLength} characters`),e.countryError.className="error active"},a=r=>{r.validity.valueMissing?e.zipCodeError.textContent="You need to enter a Zipcode":r.validity.tooLong?e.zipCodeError.textContent=`Zipcode should be no longer than ${r.maxLength} characters`:r.validity.patternMismatch&&(e.zipCodeError.textContent=`${r.value} is not a valid Zipcode`),r.validity.tooShort&&(e.zipCodeError.textContent=`Zipcode should be at least ${r.minLength} characters`),e.zipCodeError.className="error active"},n=r=>{r.validity.valueMissing?e.passwordError.textContent="You need to enter a password":r.validity.tooShort?e.passwordError.textContent=`Your password should be at least ${r.minLength} characters`:r.validity.tooLong&&(e.passwordError.textContent=`You password should be no longer than ${r.maxLength} characters`),e.passwordError.className="error active"},i=()=>{e.passwordConfirmError.textContent="Passwords do not match",e.passwordConfirmError.className="error active"},d=function(){let r=!1,d=!1,s=!1,l=!1,c=!1;return{validateEmail:o=>{o.validity.valid?(e.emailError.textContent="",e.emailError.className="error",r=!0):(r=!1,t(o))},validateCountry:r=>{r.validity.valid?(e.countryError.textContent="",e.countryError.className="error",d=!0):(d=!1,o(r))},validateZipcode:r=>{r.validity.valid?(e.zipCodeError.textContent="",e.zipCodeError.className="error",s=!0):(s=!1,a(r))},validatePassword:r=>{r.validity.valid?(e.passwordError.textContent="",e.passwordError.className="error",l=!0):(l=!1,n(r))},validatePasswordConfirm:(r,t)=>{r.value===t.value?(e.passwordConfirmError.textContent="",e.passwordConfirmError.className="error",c=!0):(c=!1,i())},emailValid:r,countryValid:d,zipValid:s,passwordValid:l,passwordConfirmValid:c}}();r.email.addEventListener("input",(()=>{d.validateEmail(r.email)})),r.country.addEventListener("input",(()=>{d.validateCountry(r.country)})),r.zipCode.addEventListener("input",(()=>{d.validateZipcode(r.zipCode)})),r.password.addEventListener("input",(()=>{d.validatePassword(r.password)})),r.passwordConfirm.addEventListener("input",(()=>{d.validatePasswordConfirm(r.passwordConfirm,r.password)})),r.formContainer.addEventListener("submit",(e=>{d.emailValid||(d.validateEmail(r.email),e.preventDefault()),d.countryValid||(d.validateCountry(r.country),e.preventDefault()),d.zipValid||(d.validateZipcode(r.zipCode),e.preventDefault()),d.passwordValid||(d.validatePassword(r.password),e.preventDefault()),d.passwordConfirmValid||(d.validatePasswordConfirm(r.passwordConfirm,r.password),e.preventDefault())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzQ29udGVudCI6WyJjb25zdCBmb3JtID0gKGZ1bmN0aW9uIGZvcm0oKSB7XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsLWlucHV0Jyk7XG4gIGNvbnN0IGNvdW50cnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRyeS1pbnB1dCcpO1xuICBjb25zdCB6aXBDb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvZGUtaW5wdXQnKTtcbiAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQtaW5wdXQnKTtcbiAgY29uc3QgcGFzc3dvcmRDb25maXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkLWNvbmZpcm0taW5wdXQnKTtcblxuICByZXR1cm4ge1xuICAgIGZvcm1Db250YWluZXIsIGVtYWlsLCBjb3VudHJ5LCB6aXBDb2RlLCBwYXNzd29yZCwgcGFzc3dvcmRDb25maXJtLFxuICB9O1xufSgpKTtcblxuY29uc3QgZm9ybUVycm9yID0gKGZ1bmN0aW9uIGZvcm1FcnJvcigpIHtcbiAgY29uc3QgY291bnRyeUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50cnktZXJyb3InKTtcbiAgY29uc3QgemlwQ29kZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvZGUtZXJyb3InKTtcbiAgY29uc3QgcGFzc3dvcmRFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZC1lcnJvcicpO1xuICBjb25zdCBwYXNzd29yZENvbmZpcm1FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZC1jb25maXJtLWVycm9yJyk7XG4gIGNvbnN0IGVtYWlsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1haWwtZXJyb3InKTtcblxuICByZXR1cm4ge1xuICAgIGNvdW50cnlFcnJvciwgemlwQ29kZUVycm9yLCBwYXNzd29yZEVycm9yLCBwYXNzd29yZENvbmZpcm1FcnJvciwgZW1haWxFcnJvcixcbiAgfTtcbn0oKSk7XG5cbmNvbnN0IGRpc3BsYXlFcnJvciA9IChmdW5jdGlvbiBkaXNwbGF5RXJyb3IoKSB7XG4gIGNvbnN0IGVtYWlsID0gKGVsZW1lbnQpID0+IHtcbiAgICBpZiAoZWxlbWVudC52YWxpZGl0eS52YWx1ZU1pc3NpbmcpIHtcbiAgICAgIGZvcm1FcnJvci5lbWFpbEVycm9yLnRleHRDb250ZW50ID0gJ1lvdSBuZWVkIHRvIGVudGVyIGFuZCBlLW1haWwgYWRkcmVzcyc7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbGlkaXR5LnR5cGVNaXNtYXRjaCkge1xuICAgICAgZm9ybUVycm9yLmVtYWlsRXJyb3IudGV4dENvbnRlbnQgPSAnRW50ZXJlZCB2YWx1ZSBuZWVkcyB0byBiZSBhbiBlbWFpbCBhZGRyZXNzJztcbiAgICB9XG4gICAgZm9ybUVycm9yLmVtYWlsRXJyb3IuY2xhc3NOYW1lID0gJ2Vycm9yIGFjdGl2ZSc7XG4gIH07XG5cbiAgY29uc3QgY291bnRyeSA9IChlbGVtZW50KSA9PiB7XG4gICAgaWYgKGVsZW1lbnQudmFsaWRpdHkudmFsdWVNaXNzaW5nKSB7XG4gICAgICBmb3JtRXJyb3IuY291bnRyeUVycm9yLnRleHRDb250ZW50ID0gJ1lvdSBuZWVkIHRvIGVudGVyIGEgY291bnRyeSc7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbGlkaXR5LnRvb1Nob3J0KSB7XG4gICAgICBmb3JtRXJyb3IuY291bnRyeUVycm9yLnRleHRDb250ZW50ID0gYENvdW50cnkgc2hvdWxkIGJlIGF0IGxlYXN0ICR7ZWxlbWVudC5taW5MZW5ndGh9IGNoYXJhY3RlcnNgO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC52YWxpZGl0eS50b29Mb25nKSB7XG4gICAgICBmb3JtRXJyb3IuY291bnRyeUVycm9yLnRleHRDb250ZW50ID0gYENvdW50cnkgc2hvdWxkIGJlIG5vIGxvbmdlciB0aGFuICR7ZWxlbWVudC5tYXhMZW5ndGh9IGNoYXJhY3RlcnNgO1xuICAgIH1cbiAgICBmb3JtRXJyb3IuY291bnRyeUVycm9yLmNsYXNzTmFtZSA9ICdlcnJvciBhY3RpdmUnO1xuICB9O1xuXG4gIGNvbnN0IHppcENvZGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIGlmIChlbGVtZW50LnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgICAgZm9ybUVycm9yLnppcENvZGVFcnJvci50ZXh0Q29udGVudCA9ICdZb3UgbmVlZCB0byBlbnRlciBhIFppcGNvZGUnO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC52YWxpZGl0eS50b29Mb25nKSB7XG4gICAgICBmb3JtRXJyb3IuemlwQ29kZUVycm9yLnRleHRDb250ZW50ID0gYFppcGNvZGUgc2hvdWxkIGJlIG5vIGxvbmdlciB0aGFuICR7ZWxlbWVudC5tYXhMZW5ndGh9IGNoYXJhY3RlcnNgO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2gpIHtcbiAgICAgIGZvcm1FcnJvci56aXBDb2RlRXJyb3IudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LnZhbHVlfSBpcyBub3QgYSB2YWxpZCBaaXBjb2RlYDtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQudmFsaWRpdHkudG9vU2hvcnQpIHtcbiAgICAgIGZvcm1FcnJvci56aXBDb2RlRXJyb3IudGV4dENvbnRlbnQgPSBgWmlwY29kZSBzaG91bGQgYmUgYXQgbGVhc3QgJHtlbGVtZW50Lm1pbkxlbmd0aH0gY2hhcmFjdGVyc2A7XG4gICAgfVxuICAgIGZvcm1FcnJvci56aXBDb2RlRXJyb3IuY2xhc3NOYW1lID0gJ2Vycm9yIGFjdGl2ZSc7XG4gIH07XG5cbiAgY29uc3QgcGFzc3dvcmQgPSAoZWxlbWVudCkgPT4ge1xuICAgIGlmIChlbGVtZW50LnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgICAgZm9ybUVycm9yLnBhc3N3b3JkRXJyb3IudGV4dENvbnRlbnQgPSAnWW91IG5lZWQgdG8gZW50ZXIgYSBwYXNzd29yZCc7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbGlkaXR5LnRvb1Nob3J0KSB7XG4gICAgICBmb3JtRXJyb3IucGFzc3dvcmRFcnJvci50ZXh0Q29udGVudCA9IGBZb3VyIHBhc3N3b3JkIHNob3VsZCBiZSBhdCBsZWFzdCAke2VsZW1lbnQubWluTGVuZ3RofSBjaGFyYWN0ZXJzYDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQudmFsaWRpdHkudG9vTG9uZykge1xuICAgICAgZm9ybUVycm9yLnBhc3N3b3JkRXJyb3IudGV4dENvbnRlbnQgPSBgWW91IHBhc3N3b3JkIHNob3VsZCBiZSBubyBsb25nZXIgdGhhbiAke2VsZW1lbnQubWF4TGVuZ3RofSBjaGFyYWN0ZXJzYDtcbiAgICB9XG5cbiAgICBmb3JtRXJyb3IucGFzc3dvcmRFcnJvci5jbGFzc05hbWUgPSAnZXJyb3IgYWN0aXZlJztcbiAgfTtcblxuICBjb25zdCBwYXNzd29yZENvbmZpcm0gPSAoKSA9PiB7XG4gICAgZm9ybUVycm9yLnBhc3N3b3JkQ29uZmlybUVycm9yLnRleHRDb250ZW50ID0gJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnO1xuICAgIGZvcm1FcnJvci5wYXNzd29yZENvbmZpcm1FcnJvci5jbGFzc05hbWUgPSAnZXJyb3IgYWN0aXZlJztcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBlbWFpbCwgY291bnRyeSwgemlwQ29kZSwgcGFzc3dvcmQsIHBhc3N3b3JkQ29uZmlybSxcbiAgfTtcbn0oKSk7XG5cbmNvbnN0IHZhbGlkYXRlRm9ybSA9IChmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7XG4gIGxldCBlbWFpbFZhbGlkID0gZmFsc2U7XG4gIGxldCBjb3VudHJ5VmFsaWQgPSBmYWxzZTtcbiAgbGV0IHppcFZhbGlkID0gZmFsc2U7XG4gIGxldCBwYXNzd29yZFZhbGlkID0gZmFsc2U7XG4gIGxldCBwYXNzd29yZENvbmZpcm1WYWxpZCA9IGZhbHNlO1xuXG4gIGNvbnN0IHZhbGlkYXRlRW1haWwgPSAoZWxlbWVudCkgPT4ge1xuICAgIGlmIChlbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICBmb3JtRXJyb3IuZW1haWxFcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgZm9ybUVycm9yLmVtYWlsRXJyb3IuY2xhc3NOYW1lID0gJ2Vycm9yJztcbiAgICAgIGVtYWlsVmFsaWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWFpbFZhbGlkID0gZmFsc2U7XG4gICAgICBkaXNwbGF5RXJyb3IuZW1haWwoZWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlQ291bnRyeSA9IChlbGVtZW50KSA9PiB7XG4gICAgaWYgKGVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIGZvcm1FcnJvci5jb3VudHJ5RXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGZvcm1FcnJvci5jb3VudHJ5RXJyb3IuY2xhc3NOYW1lID0gJ2Vycm9yJztcbiAgICAgIGNvdW50cnlWYWxpZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50cnlWYWxpZCA9IGZhbHNlO1xuICAgICAgZGlzcGxheUVycm9yLmNvdW50cnkoZWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlWmlwY29kZSA9IChlbGVtZW50KSA9PiB7XG4gICAgaWYgKGVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIGZvcm1FcnJvci56aXBDb2RlRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGZvcm1FcnJvci56aXBDb2RlRXJyb3IuY2xhc3NOYW1lID0gJ2Vycm9yJztcbiAgICAgIHppcFZhbGlkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgemlwVmFsaWQgPSBmYWxzZTtcbiAgICAgIGRpc3BsYXlFcnJvci56aXBDb2RlKGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWxpZGF0ZVBhc3N3b3JkID0gKGVsZW1lbnQpID0+IHtcbiAgICBpZiAoZWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgZm9ybUVycm9yLnBhc3N3b3JkRXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGZvcm1FcnJvci5wYXNzd29yZEVycm9yLmNsYXNzTmFtZSA9ICdlcnJvcic7XG4gICAgICBwYXNzd29yZFZhbGlkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFzc3dvcmRWYWxpZCA9IGZhbHNlO1xuICAgICAgZGlzcGxheUVycm9yLnBhc3N3b3JkKGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWxpZGF0ZVBhc3N3b3JkQ29uZmlybSA9IChjb25maXJtLCBwYXNzd29yZFZhbHVlKSA9PiB7XG4gICAgaWYgKGNvbmZpcm0udmFsdWUgPT09IHBhc3N3b3JkVmFsdWUudmFsdWUpIHtcbiAgICAgIGZvcm1FcnJvci5wYXNzd29yZENvbmZpcm1FcnJvci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgZm9ybUVycm9yLnBhc3N3b3JkQ29uZmlybUVycm9yLmNsYXNzTmFtZSA9ICdlcnJvcic7XG4gICAgICBwYXNzd29yZENvbmZpcm1WYWxpZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhc3N3b3JkQ29uZmlybVZhbGlkID0gZmFsc2U7XG4gICAgICBkaXNwbGF5RXJyb3IucGFzc3dvcmRDb25maXJtKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdmFsaWRhdGVFbWFpbCxcbiAgICB2YWxpZGF0ZUNvdW50cnksXG4gICAgdmFsaWRhdGVaaXBjb2RlLFxuICAgIHZhbGlkYXRlUGFzc3dvcmQsXG4gICAgdmFsaWRhdGVQYXNzd29yZENvbmZpcm0sXG4gICAgZW1haWxWYWxpZCxcbiAgICBjb3VudHJ5VmFsaWQsXG4gICAgemlwVmFsaWQsXG4gICAgcGFzc3dvcmRWYWxpZCxcbiAgICBwYXNzd29yZENvbmZpcm1WYWxpZCxcbiAgfTtcbn0oKSk7XG5cbihmdW5jdGlvbiBmb3JtTGlzdGVuZXJzKCkge1xuICBmb3JtLmVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHZhbGlkYXRlRm9ybS52YWxpZGF0ZUVtYWlsKGZvcm0uZW1haWwpO1xuICB9KTtcblxuICBmb3JtLmNvdW50cnkuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVGb3JtLnZhbGlkYXRlQ291bnRyeShmb3JtLmNvdW50cnkpO1xuICB9KTtcblxuICBmb3JtLnppcENvZGUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVGb3JtLnZhbGlkYXRlWmlwY29kZShmb3JtLnppcENvZGUpO1xuICB9KTtcblxuICBmb3JtLnBhc3N3b3JkLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHZhbGlkYXRlRm9ybS52YWxpZGF0ZVBhc3N3b3JkKGZvcm0ucGFzc3dvcmQpO1xuICB9KTtcblxuICBmb3JtLnBhc3N3b3JkQ29uZmlybS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICB2YWxpZGF0ZUZvcm0udmFsaWRhdGVQYXNzd29yZENvbmZpcm0oZm9ybS5wYXNzd29yZENvbmZpcm0sIGZvcm0ucGFzc3dvcmQpO1xuICB9KTtcblxuICBmb3JtLmZvcm1Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKCF2YWxpZGF0ZUZvcm0uZW1haWxWYWxpZCkge1xuICAgICAgdmFsaWRhdGVGb3JtLnZhbGlkYXRlRW1haWwoZm9ybS5lbWFpbCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlRm9ybS5jb3VudHJ5VmFsaWQpIHtcbiAgICAgIHZhbGlkYXRlRm9ybS52YWxpZGF0ZUNvdW50cnkoZm9ybS5jb3VudHJ5KTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVGb3JtLnppcFZhbGlkKSB7XG4gICAgICB2YWxpZGF0ZUZvcm0udmFsaWRhdGVaaXBjb2RlKGZvcm0uemlwQ29kZSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlRm9ybS5wYXNzd29yZFZhbGlkKSB7XG4gICAgICB2YWxpZGF0ZUZvcm0udmFsaWRhdGVQYXNzd29yZChmb3JtLnBhc3N3b3JkKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVGb3JtLnBhc3N3b3JkQ29uZmlybVZhbGlkKSB7XG4gICAgICB2YWxpZGF0ZUZvcm0udmFsaWRhdGVQYXNzd29yZENvbmZpcm0oZm9ybS5wYXNzd29yZENvbmZpcm0sIGZvcm0ucGFzc3dvcmQpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0pO1xufSgpKTtcbiJdLCJuYW1lcyI6WyJmb3JtIiwiZm9ybUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVtYWlsIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb3VudHJ5IiwiemlwQ29kZSIsInBhc3N3b3JkIiwicGFzc3dvcmRDb25maXJtIiwiZm9ybUVycm9yIiwiY291bnRyeUVycm9yIiwiemlwQ29kZUVycm9yIiwicGFzc3dvcmRFcnJvciIsInBhc3N3b3JkQ29uZmlybUVycm9yIiwiZW1haWxFcnJvciIsImRpc3BsYXlFcnJvciIsImVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbHVlTWlzc2luZyIsInRleHRDb250ZW50IiwidHlwZU1pc21hdGNoIiwiY2xhc3NOYW1lIiwidG9vU2hvcnQiLCJtaW5MZW5ndGgiLCJ0b29Mb25nIiwibWF4TGVuZ3RoIiwicGF0dGVybk1pc21hdGNoIiwidmFsdWUiLCJ2YWxpZGF0ZUZvcm0iLCJlbWFpbFZhbGlkIiwiY291bnRyeVZhbGlkIiwiemlwVmFsaWQiLCJwYXNzd29yZFZhbGlkIiwicGFzc3dvcmRDb25maXJtVmFsaWQiLCJ2YWxpZGF0ZUVtYWlsIiwidmFsaWQiLCJ2YWxpZGF0ZUNvdW50cnkiLCJ2YWxpZGF0ZVppcGNvZGUiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwidmFsaWRhdGVQYXNzd29yZENvbmZpcm0iLCJjb25maXJtIiwicGFzc3dvcmRWYWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==